# Space2Telegram
Программ позволяет получать изображения с сайтов NASA и SpaceX.
Содержит бот, позволяющий отправлять скачанные изображения 
в Телеграм канал

### Как установить
- Скачайте код.
- Установите витруальное окружение командой `python -m venv venv`
- Запустите виртуальное окружение командой `venv\Scripts\activate`
- Установите зависимости командой `pip install -r requirements.txt`
- Создайте бота и канал в телеграмм. ([инструкция](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/))

### Переменные окружения
Часть настроек проекта берётся из переменных окружения. 
Чтобы их определить, создайте файл `.env` в папке с фалами проекта 
и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ="значение"`.

Доступно 3 переменных:
`NASA_API_KEY` - токен генерируется на сайте [API NASA](https://api.nasa.gov/)

`TG_TOKEN` - токен формируется при создании нового бота в телеграм
для создания 
`TG_CHANNEL_ID` - идентификатор вашего канала (обычно @названиеканала)

### Как использовать
#### Загрузка фото SpaceX
Чтобы загрузить фото SpaceX используйте команду
`python fetch_spacex_images.py`. Загрузятся фотографии с последнего 
запуска при котором велась съемка.
Аргументы:
`--launch_id ` позволяет указать номер запуска
по которому нужно загрузить фотографии. 
Например:
`python fetch_spacex_images.py --launch_id 5eb87ce3ffd86e000604b336`

#### Загрузка фото дня NASA
Чтобы загрузить фото дня с сайта NASA используйте команду
`python fetch_nasa_apod_images.py`. Будет загружено 5 фото.
Аргументы:
`--count` - позволяет загрузить определенное количество фото.
Например: 
`python fetch_nasa_apod_images.py --count 10` 

#### Загрузка фото земли из космоса NASA
Чтобы загрузить фото земли используйте команду
`python fetch_nasa_epic_images.py`. Будут загружены фото за последную 
доступную дату.
Аргументы:
`--date` - позволяет получить фото за определенную дату.
Дата должна быть указана в формате `YYYY-MM-DD`
Например: 
`python fetch_nasa_epic_images.py --date 2022-09-13`

#### Отправка фото в Телеграм канал
Для запуска бота команду:
`python space_viewer_bot.py`
Бот будет отправлять в канал случайную фотографию из загруженных ранее.
Если все фото будут отправлены, бот будет отправлять их повторно.
По умолчанию интервал между отправкой фото 4 часа.
Аргументы:
`--interval` - позволяет задать интервал в часах через который бот будет
отправлять новые фото.
Например:
`python space_viewer_bot.py --interval 12` 

### Цель проекта
Код написан в образовательных целях, 
на курсе для разработчиков [dvmn.org](https://dvmn.org/referrals/u4guYYiV5HjY6tnwtCShzP2cWFYE0EWnKeoJLEWP/)